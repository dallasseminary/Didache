@model Forum
@{
	ViewBag.Title = "Forum Threads";
}

@{Html.RenderPartial("CourseHeader"); }

@{Html.RenderPartial("CourseMenu"); }


<table class="forum-threads">
	<thead>
		<tr>
			<th width="700">Subject</th>
			<th width="200">Last Poster</th>
            <th width="20">Replies</th>
		</tr>
	</thead>
	<tbody>

@foreach (Thread thread in Model.Threads) {
	<tr>
		<th><h3><a href="/courses/@ViewContext.RouteData.Values["slug"]/discussion/thread/@thread.ThreadID">@Html.Raw(thread.Subject)</a></h3><span class="date">@thread.ThreadDate</span></th>
		<td><span class="last-poster">@(thread.Posts.Last().User.NickName.IsEmpty() ? thread.Posts.Last().User.FirstName : thread.Posts.Last().User.NickName) @(thread.Posts.Last().User.LastName.Substring(0, 1) + ".")</span> <span class="date">@thread.LastPostDate</span> </td>
        <td class="replies">@thread.TotalReplies</td>
	</tr>
}