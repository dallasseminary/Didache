@model Course
		   
@{
    ViewBag.Title = "CourseEditor";
}
@section head {
	<script src="/js/admin/courses-common.js"></script>
	<script src="/js/admin/courses-data.js"></script>
	<script src="/js/admin/courses-unittasks.js"></script>
}

<div class="page-wide">
	<div class="full-column">
		
		@Html.Partial("_CourseHeader", Model)


<input type="hidden" id="CourseID" name="CourseID" value="@(Model != null ? Model.CourseID : 0)" />

<div id="unittask-list">
	
	<button type="button" class="d-button action" id="add-unit">Add Unit</button>

	<div id="course-units" class="nested-list">
	
	
	</div>

</div>


<div id="task-editor" class="item-editor">
	
	<input type="hidden" name="TaskID" />
	<input type="hidden" name="UnitID" />
	<input type="hidden" name="CourseID" />

    <table class="admin-form">
      <tbody>

		<tr>
			<th>
				Name
			</th>
			<td>
				<input type="text" name="Name" /> <input type="checkbox" name="IsActive" id="Task-IsActive" /><label for="Task-IsActive">Active</label>
			</td>
		</tr>
		<tr>
			<th>
				Completion Method
			</th>
			<td>
				@foreach (Didache.TaskTypes.TaskTypeInfo info in Didache.TaskTypes.TaskTypeManager.GetTaskTypes()) {
					<input type="radio" value="@info.ClassName" name="TaskTypeName" id="TaskTypeName-@info.ClassName" />
					<label for="TaskTypeName-@info.ClassName">@info.FriendlyName</label>
					<br />
				}
			</td>
		</tr>

		<tr>
			<th>
				Related
			</th>
			<td>
				<select name="RelatedTaskID"></select>
			</td>
		</tr>

		<tr>
			<th>
				File Types
			</th>
			<td>
				<input type="text" name="FileTypesAllowed" data-defaultvalue="pdf" /> (blank for any, or "pdf|doc|docx")
			</td>
		</tr>

		<tr>
			<th>
				Custom
			</th>
			<td>
				<input type="text" name="CustomAttributes" data-defaultvalue="pdf" />  (for videos: BE101_1_1, 5_6)
			</td>
		</tr>

		<tr>
			<th>
				Instructions
			</th>
			<td>
				<textarea name="Instructions" class="htmltext-admin"></textarea>
			</td>
		</tr>
		<tr>
			<th>
				Priority
			</th>
			<td>
				<select name="Priority" >
					<option value="1">Normal (1)</option>
					<option value="2">High (2)</option>				
				</select>
			</td>
		</tr>
		<tr>
			<th>
				Due Date
			</th>
			<td>
				<input class="date" name="DueDate" />
			</td>
		</tr>
		<tr>
			<th>
				Instructions
			</th>
			<td>
				<input class="date" name="InstructionsAvailableDate" /> (hide instructions until)
			</td>
		</tr>
		<tr>
			<th>
				Submission
			</th>
			<td>	
				<input class="date" name="SubmissionAvailableDate" /> (don't allow submit until this date)
			</td>
		</tr>
		<tr>
			<th>
				Skippable
			</th>
			<td>
				<input type="checkbox" name="IsSkippable" />
			</td>
			</tr>
		</tbody>
	</table>
</div>


<div id="unit-editor" class="item-editor">
	<input type="hidden" name="UnitID" />
	<input type="hidden" name="CourseID" />

    <table class="admin-form">
      <tbody>
		<tr>
			<th>
				Active
			</th>
			<td>
				<input type="checkbox" name="IsActive" />
			</td>
		</tr>
		<tr>
			<th>
				Name
			</th>
			<td>
				<input type="text" name="Name" />
			</td>
		</tr>
		<tr>
			<th>
				Start Date
			</th>
			<td>
				<input type="date" name="StartDate" />
			</td>
		</tr>
		<tr>
			<th>
				End Date
			</th>
			<td>
				<input type="date" name="EndDate" />
			</td>
		</tr>

		<tr>
			<th>
				Instructions
			</th>
			<td>
				<textarea name="Instructions" class="htmltext-admin"></textarea>
			</td>
		</tr>
	
	</table>

	</div>
</div>